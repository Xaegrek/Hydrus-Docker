<html>
	<head>
		<title>getting started - subscriptions</title>
		<link href="hydrus.ico" rel="shortcut icon" />
		<link href="style.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="content">
			<p class="warning">Do not try to create a subscription until you are comfortable with a normal gallery download page! If you haven't downloaded anything yet, go <i>F9->download->gallery->[your preference]</i> and run some searches, just so you get a feel before you make a mistake here.</p>
			<h3>what are subs?</h3>
			<p>Subscriptions are a way of telling the client to quietly and regularly repeat a gallery search. The client will sync with the gallery and download any new files behind the scenes, just as if you were running the download yourself.</p>
			<p>You can set up a subscription for any of the gallery websites in the normal <i>new page->download->gallery</i> menu.</p>
			<p>Here's the dialog, which is under <i>services->manage subscriptions</i>:</p>
			<p><img src="subs_dialog.png" /></p>
			<p>Here the client is set to search gelbooru for 'blue_eyes' every seven days. It will keep fetching gallery pages, starting at the first page, generating new media urls, until:</p>
			<ul class="bulletpoint">
				<li>It has never run before and reaches the last page in the gallery.</li>
				<li>It has never run before and has found as many files as the 'initial sync file limit'.</li>
				<li>It has run before and discovers a url it has previously seen.</li>
			</ul>
			<p>Once it has finished adding urls, it will visit each new one in turn and strip out the file and any tags you have set it to parse. <b>Urls it has checked in previous runs will not be rechecked, and tags will not be retroactively fetched.</b></p>
			<h3>when they run</h3>
			<p>When a subscription runs, it will show a popup message:</p>
			<p><img src="subs_popup.png" /></p>
			<p>You don't really have to care about this all that much; it just lets you know what it is doing. The 'show x files' button is useful just to quickly make sure it is getting what you meant it to. Once it is done, it will collapse down and wait for you to dismiss it with a right click.</p>
			<p>Serious errors, like server 404s, are recovered from as gracefully as possible. The client will retry those subscriptions the next day.</p>
			<p>Here's the result of the subscription I set up above:</p>
			<p><img src="subs_import_done.png" /></p>
			<p>If I were to leave the subscription in place for seven days, it would recheck blue_eyes and download every single new file until it hit whichever of those ten is the newest.</p>
			<h3>how could this possibly go wrong?</h3>
			<p>This is quite a powerful tool, and if you are silly, you will end up spamming a server and likely upsetting someone or breaking something.</p>
			<p>If you set a subscription to have no initial file limit on a simple query—say, blue_eyes on gelbooru—it will attempt to parse, at current count, 581,509 files. This would take a very long time and it would use a lot of gelbooru's bandwidth—enough that they probably have a system in place to ban your IP for it. Even if you set a reasonable initial file count, the sheer number of new blue_eyes files every week is probably a bit too large.</p>
			<p><i>Remember: If you are going to scrape anything from a site, be polite about it!</i></p>
			<p>So, I suggest you start with artist searches to begin with. These usually top out at about 1,000 files total and a handful of new files every week/month, and also hence don't take all that long. Once you are more confident, try doing multiple-tag queries. I suggest you leave simple single-tag queries for the manual download page, where you can hit 'that's enough' yourself.</p>
			<h3>help! it won't stop!</h3>
			<p>If you <i>do</i> put in a huge search, and the 'found x new files for subscription y' message is climbing terrifyingly higher and higher with no end in sight, just hit the pause button on the popup. You can also pause all current subscriptions from even starting at <i>services->pause->subscriptions synchronisation</i>. Then you can go back into the dialog and remove or edit at your own pace.</p>
		</div>
	</body>
</html>